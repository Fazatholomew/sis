(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,n){n("5b15df55c1316f23e9d0"),e.exports=n("8b703812aa8ae3c41814")},"776f7b15d44f70e7504d":function(e,t,n){e.exports=n.p+"6df5546dfecb3262337cb56455b9134c.svg"},"8b703812aa8ae3c41814":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"loginUserSuccess",function(){return I}),n.d(r,"get_user",function(){return G}),n.d(r,"loginUserFailure",function(){return L}),n.d(r,"loginUserRequest",function(){return F}),n.d(r,"logout",function(){return q}),n.d(r,"logoutAndRedirect",function(){return M}),n.d(r,"redirectToRoute",function(){return B}),n.d(r,"registerUserRequest",function(){return $}),n.d(r,"registerUserSuccess",function(){return H}),n.d(r,"registerUserFailure",function(){return V}),n.d(r,"registerUser",function(){return W}),n.d(r,"createUserWrapper",function(){return J});n("8c8e4f08a118a28666b0");var o=n("8af190b70a6bc55c6f1b"),a=n.n(o),i=n("63f14ac74ce296f77f4d"),s=n.n(i),c=n("d7dd51e1bf6bfc2c9c3d"),u=n("3aced5b508e7389026da"),l=n("89fa59dfd48f288c4600"),p=n.n(l)()(),f=(n("6735bdf1a3a541ab43fd"),n("e95a63b25fb92ed15721")),d=n("ab4cb61bcb2dc161defb"),b=n("999b8422c18ed8d20c8d"),h="LOGIN_USER_FAILURE",m="LOGOUT_USER",y="REGISTER_USER_SUCCESS",g="REGISTER_USER_FAILURE",v="REGISTER_USER_REQUEST";function S(e){return e.data}var O=n("bd183afcc37eabd79225"),w=n.n(O),_="",j=function(e){return{headers:{Authorization:e}}};function E(e,t,n){return w.a.post("".concat(_,"/api/create_user"),{name:e,email:t,password:n})}function C(e,t){return w.a.post("".concat(_,"/api/get_token"),{email:e,password:t})}function k(e){return w.a.get("".concat(_,"/api/entries"),j(e))}function R(e,t){return w.a.get("".concat(_,"/api/users/").concat(e),j(t))}function A(e){return w.a.get("".concat(_,"/api/users/active"),j(e))}function x(e,t){return w.a.post("".concat(_,"/api/create_offer"),{data:e},j(t))}function P(e,t){return w.a.post("".concat(_,"/api/create_request"),{data:e},j(t))}function T(e,t){return w.a.patch("".concat(_,"/api/patch_join"),{data:e},j(t))}function D(e,t){return w.a.delete("".concat(_,"/api/entries/offers/").concat(e),j(t))}function U(e,t){return w.a.delete("".concat(_,"/api/entries/requests/").concat(e),j(t))}var N=function(e,t){return Object(u.push)(t)};function I(e){return localStorage.setItem("token",e),{type:"LOGIN_USER_SUCCESS",payload:{token:e}}}function G(e){return{type:"SAGA_GET_USER",payload:{id:e}}}function L(e){return localStorage.removeItem("token"),{type:h,payload:{status:e.response.status,statusText:e.response.statusText}}}function F(e,t){return{type:"SAGA_LOGIN",payload:{email:e,password:t}}}function q(){return localStorage.removeItem("token"),{type:m}}function M(){return function(e){e(q()),b.browserHistory.push("/")}}function B(e){return function(){b.browserHistory.push(e)}}function $(){return{type:v}}function H(e){return localStorage.setItem("token",e),{type:y,payload:{token:e}}}function V(e){return localStorage.removeItem("token"),{type:g,payload:{status:e.response.status,statusText:e.response.statusText}}}function W(e,t,n){return{type:"SAGA_REGISTER",payload:{name:e,email:t,password:n}}}function J(e,t,n){E(e,t,n).then(S).then(function(e){try{return e}catch(e){return V({response:{status:403,statusText:"Invalid token"}})}}).catch(function(e){return V({response:{status:403,statusText:"User with that email already exists"}})})}var Q,z=n("6938d226fd372a75cbf9"),Y=n("435859b6b76fb67a754a"),K=n.n(Y),X=(n("8a2d1b95e05b6a321e74"),n("e727e731a9bed8ec3c2a")),Z=n.n(X),ee=n("c7fd554010f79f6c0ef8"),te=n.n(ee),ne=n("2aea235afd5c55b8b19b"),re=n.n(ne),oe=n("10e4c616cb3b01bafafd"),ae=n.n(oe);function ie(e){return(ie="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t,n,r){Q||(Q="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Q,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){de(e,t,n[t])})}return e}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be,he=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=le(t).call(this,e),n=!o||"object"!==ie(o)&&"function"!==typeof o?fe(r):o,de(fe(fe(n)),"handleClose",function(){var e=ce({},n.state.dialogData);n.props.mode&&(e.disable=!0,e.buttons=n.viewMode),n.setState({dialogData:e}),n.props.handleClose()}),de(fe(fe(n)),"handleChange",function(e){n.setState(de({},e.target.name,e.target.value))}),de(fe(fe(n)),"edit",function(){var e=ce({},n.state.dialogData);e.disable=!1,e.buttons=n.viewModeEdit,n.setState({dialogData:e})}),de(fe(fe(n)),"loggin",function(){n.state.Username&&n.state.Password&&(n.props.login(n.state.Username,n.state.Password),n.handleClose())}),de(fe(fe(n)),"submit",function(){}),de(fe(fe(n)),"Delete",function(){}),de(fe(fe(n)),"loggout",function(){n.handleClose(),n.props.logout()}),de(fe(fe(n)),"logginFields",{Username:"",Password:""}),de(fe(fe(n)),"viewMode",[{color:"primary",click:n.edit,label:"Edit"},{color:"primary",click:n.loggout,label:"Logout"}]),de(fe(fe(n)),"viewModeEdit",[{color:"primary",click:n.submit,label:"Submit",fullWidth:!1},{color:"secondary",click:n.delete,label:"Delete",fullWidth:!1}]),de(fe(fe(n)),"logginMode",[{color:"primary",click:n.loggin,label:"Login"}]),n.state={dialogData:{buttons:n.logginMode,data:n.logginFields,disable:!1},Username:null,Password:null},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e={};e=this.props.mode?{buttonData:this.viewMode,data:this.props.profile,disable:!0}:{buttonData:this.logginMode,data:this.logginFields,disable:!1},this.setState({dialogData:e})}},{key:"componentDidUpdate",value:function(e){if(this.props.mode!==e.mode){var t={};t=this.props.mode?{buttonData:this.viewMode,data:this.props.profile,disable:!0}:{buttonData:this.logginMode,data:this.logginFields,disable:!1},this.setState({dialogData:t})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.open,r=(t.mode,t.classes),o=this.state.dialogData,a=o.disable,i=o.buttonData,s=o.data,c={Passenger:"number",Time:"time",Password:"password"},u=i?i.map(function(t,n){return se(re.a,{color:t.color?t.color:"primary",onClick:t.click?t.click:e.edit,fullWidth:t.fullWidth},n,t.label?t.label:"Button")}):null,l=Object.keys(s).map(function(t,n){return se(te.a,{name:t,onChange:e.handleChange,className:r.fields,label:t,disabled:a,defaultValue:s[t]||null,fullWidth:!0,type:c[t]||"text"},n)});return se("div",{},void 0,se(Z.a,{open:n,onClose:this.handleClose,fullWidth:!0,scroll:"paper"},void 0,se(K.a,{container:!0,direction:"column",className:r.container},void 0,l,se(ae.a,{},void 0,u||null))))}}])&&ue(n.prototype,r),o&&ue(n,o),t}(),me=Object(z.withStyles)(function(e){return{container:{paddingBottom:25,paddingRight:15,paddingLeft:15},fields:{marginTop:20,marginBottom:20}}})(he),ye=n("b78ee477e6ac6a65dd83"),ge=n.n(ye),ve=n("282d5645b44ba868741e"),Se=n.n(ve),Oe=n("921c0b8c557fe6ba5da8"),we=n.n(Oe);function _e(e){return(_e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t,n,r){be||(be="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:be,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=Ce(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==_e(o)&&"function"!==typeof o?Re(r):o,Ae(Re(Re(n)),"state",{open:!1}),Ae(Re(Re(n)),"gotoHome",function(){"/"==n.props.location.pathname?n.props.navigateto("/home"):n.props.navigateto("/")}),Ae(Re(Re(n)),"handleClose",function(){n.setState({open:!1})}),Ae(Re(Re(n)),"handleClick",function(){n.setState({open:!n.props.open})}),Ae(Re(Re(n)),"handleLogout",function(){n.props.logout(),n.props.navigateto("/register")}),n}var r,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,a.a.Component),r=t,(o=[{key:"componentDidMount",value:function(){this.props.get_user()}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.auth,o=e.userProfile,a=this.state.open;return je("div",{className:t.root},void 0,je(ge.a,{position:"sticky",className:t.header},void 0,je(Se.a,{},void 0,je("img",{src:n("776f7b15d44f70e7504d")}),je(we.a,{variant:"h6",color:"inherit",className:t.grow}),this.props.auth?je(re.a,{color:"inherit",onClick:this.handleClick},void 0,"Profile"):je(re.a,{color:"inherit",onClick:this.handleClick},void 0,"Login"))),je(me,{open:a,mode:r,logout:this.handleLogout,login:this.props.loginUserRequest,handleClose:this.handleClose,profile:{Name:o.userFullName,Email:o.userName+"@marlboro.edu",Password:""}}))}}])&&Ee(r.prototype,o),i&&Ee(r,i),t}();var Pe,Te=Object(z.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},header:{background:"linear-gradient(0deg, rgba(230,81,0,1) 0%, rgba(244,67,54,1) 100%)"}})(Object(f.withRouter)(Object(c.connect)(function(e){return{auth:e.auth.isAuthenticated,userProfile:e.auth}},function(e){return Object(d.bindActionCreators)({navigateto:N,logout:q,loginUserRequest:F,get_user:G},e)})(xe))),De=n("be49ece3c9ac38c7621f"),Ue=Object(De.a)(function(){return n.e(3).then(n.bind(null,"8937ca26cad1b574ef33"))}),Ne=n("28e75ddca4f48a668c52"),Ie=n.n(Ne),Ge=n("33841c6638c3847279b5"),Le=n.n(Ge),Fe=n("c233babf320cd068509e"),qe=n.n(Fe),Me=n("eb6b79030a47f0b10efc"),Be=n.n(Me),$e=n("ae3a24c34ecf15b7b581"),He=n("02b185abdbff04d8a73d"),Ve=n.n(He);function We(e){return(We="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t,n,r){Pe||(Pe="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Pe,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze,et=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=ze(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==We(o)&&"function"!==typeof o?Ke(r):o,Xe(Ke(Ke(n)),"state",{time:null,disable:!0,mode:!0,data:n.props.data}),Xe(Ke(Ke(n)),"submit",function(){var e=n.state,t=e.from,r=e.to;if(t&&r){var o={from:t=(t=t.toLowerCase().substring(0,18)).charAt(0).toUpperCase()+t.slice(1),to:r=(r=r.toLowerCase().substring(0,18)).charAt(0).toUpperCase()+r.slice(1),time:n.state.time.toUTCString()};n.props.create||n.props.delete(n.props.entry_id),n.props.handleSubmit(o),n.setState({time:new Date(Date.now())}),n.props.handleClose()}}),Xe(Ke(Ke(n)),"edit",function(){var e=n.props.data,t=e.asal,r=e.tujuan,o=Date.parse(n.props.data.time),a=new Date(o);n.setState({mode:!1,disable:!1,from:t,to:r,time:a})}),Xe(Ke(Ke(n)),"delete",function(){n.props.delete(n.props.entry_id),n.handleClose()}),Xe(Ke(Ke(n)),"create",function(){n.props.handleCreate(n.props.data,n.props.entry_id),n.handleClose()}),Xe(Ke(Ke(n)),"handleClose",function(){n.props.create||n.setState({disable:!0,mode:!0}),n.props.handleClose()}),Xe(Ke(Ke(n)),"changeHandler",function(e){return function(t){n.setState(Xe({},e,t.target.value))}}),Xe(Ke(Ke(n)),"timeChange",function(e){n.setState({time:e})}),Xe(Ke(Ke(n)),"renderButton",function(){return n.props.create?Je(re.a,{color:"primary",onClick:n.submit},void 0,"Submit"):n.props.mode?n.state.mode?Je(re.a,{color:"primary",onClick:n.edit},void 0,"Edit"):[Je(re.a,{color:"primary",onClick:n.submit},0,"Submit"),Je(re.a,{color:"secondary",onClick:n.delete},1,"Delete")]:Je(re.a,{color:"primary",onClick:n.create},void 0,"Create Offer")}),Xe(Ke(Ke(n)),"renderDatetime",function(){if(n.props.create||!1===n.state.mode)return Je($e.MuiPickersUtilsProvider,{utils:Ve.a},void 0,Je($e.DateTimePicker,{className:"picker",value:n.state.time,label:"Date & Time",onChange:n.timeChange,disablePast:!0,showTodayButton:!0,allowKeyboardControl:!1}));var e=Date.parse(n.props.data.time),t=new Date(e),r="".concat(t.toLocaleDateString()," ").concat(t.toLocaleTimeString());return Je(te.a,{className:n.props.classes.fields,disabled:!0,label:"Date & Time",defaultValue:r,type:"text"})}),Xe(Ke(Ke(n)),"renderTitle",function(){return n.props.create?"Post a request":n.props.users[n.props.data.user_id]?n.props.users[n.props.data.user_id].name:void 0}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.props.create?this.setState({data:{},disable:!1}):this.props.create&&this.props.mode||this.setState({disable:!0,data:this.props.data}))}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.classes,r=this.state,o=r.disable,a=r.data,i=this.renderButton(),s=this.renderDatetime(),c=this.renderTitle();return Je("div",{},void 0,Je(Z.a,{open:t,onClose:this.handleClose,fullWidth:!0,scroll:"paper"},void 0,Je(Be.a,{},void 0,c),Je(K.a,{container:!0,direction:"column",className:n.container},void 0,Je(te.a,{className:n.fields,disabled:o,onChange:this.changeHandler("from"),label:"From",type:"text",defaultValue:a.asal}),Je(te.a,{className:n.fields,disabled:o,onChange:this.changeHandler("to"),label:"To",type:"text",defaultValue:a.tujuan}),s,Je(ae.a,{},void 0,i))))}}])&&Qe(n.prototype,r),o&&Qe(n,o),t}(),tt=Object(z.withStyles)(function(e){return{container:{paddingBottom:25,paddingRight:15,paddingLeft:15},root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",padding:e.spacing.unit/2},fields:{marginTop:20,marginBottom:20},chip:{margin:e.spacing.unit/2}}})(et),nt=n("1fcb8f6d8f8292281b75"),rt=n.n(nt);function ot(e,t,n,r){Ze||(Ze="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Ze,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var at,it=Object(z.withStyles)(function(e){return{typography:{margin:2*e.spacing.unit},avatar:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",padding:e.spacing.unit/2}}})(function(e){var t=e.data,n=e.anchorEl,r=e.handleClose,o=e.classes,a=e.open;if(t.name){var i=t.name.split(" ");i[0].charAt(0).toUpperCase(),i.length>1&&i[1].charAt(0).toUpperCase()}return ot(rt.a,{id:"simple-popper",open:a,anchorEl:n,onClose:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},void 0,ot(K.a,{container:!0,direction:"column",className:o.avatar},void 0,ot(we.a,{className:o.typography},void 0,t.name),ot(we.a,{className:o.typography},void 0,ot("a",{href:"mailto:".concat(t.email)},void 0,ot("i",{},void 0,t.email)))))}),st=n("16c7abd7abc407b9f247"),ct=n.n(st),ut=n("bc75856162e63311fb97"),lt=n.n(ut),pt=n("c09d19c0d058d138126d"),ft=n.n(pt),dt=n("8e8be3dfc3937f600de1"),bt=n.n(dt),ht=n("ecbdedbb63dd08b2841e"),mt=n.n(ht),yt=n("be638c054224589367e1"),gt=n.n(yt);function vt(e){return(vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t,n,r){at||(at="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:at,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct,kt=St(ft.a,{htmlFor:"adornment-amount"},void 0,"Fee ",St("sup",{},void 0,St("i",{},void 0,"(optional)"))),Rt=St(bt.a,{position:"start"},void 0,"$"),At=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=wt(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==vt(o)&&"function"!==typeof o?jt(r):o,Et(jt(jt(n)),"state",{passenger:null,fee:null,time:null,disable:!0,mode:!0,data:{},anchorEl:null,currentProfile:{}}),Et(jt(jt(n)),"submit",function(){var e=n.state,t=e.from,r=e.to,o=e.fee,a=e.passenger;if(t&&r){t=(t=t.toLowerCase().substring(0,18)).charAt(0).toUpperCase()+t.slice(1),r=(r=r.toLowerCase().substring(0,18)).charAt(0).toUpperCase()+r.slice(1),a=a||1;var i=(n.state.time||new Date(Date.now())).toUTCString(),s=[];n.props.create||(s=n.props.data.passengers,n.props.delete(n.props.entry_id));var c={from:t,to:r,fee:o,passenger:a,time:i,passengers:s};n.props.handleSubmit(c),n.resetState(),n.props.handleClose()}}),Et(jt(jt(n)),"edit",function(){var e=n.props.data,t=e.asal,r=e.tujuan,o=e.fee,a=e.passenger,i=Date.parse(n.props.data.time),s=new Date(i);n.setState({mode:!1,disable:!1,from:t,to:r,fee:o,passenger:a,time:s})}),Et(jt(jt(n)),"resetState",function(){n.setState({passenger:1,fee:0,time:new Date(Date.now()),from:"",to:"",asal:"",tujuan:"",data:{}})}),Et(jt(jt(n)),"delete",function(){n.props.delete(n.props.entry_id),n.handleClose()}),Et(jt(jt(n)),"join",function(){n.props.join(n.props.entry_id),n.handleClose()}),Et(jt(jt(n)),"handleClose",function(){n.props.create||n.setState({disable:!0,mode:!0}),n.resetState(),n.props.handleClose()}),Et(jt(jt(n)),"changeHandler",function(e){return function(t){n.setState(Et({},e,t.target.value))}}),Et(jt(jt(n)),"handleProfile",function(e,t){n.setState({currentProfile:t,anchorEl:e.currentTarget})}),Et(jt(jt(n)),"handleCloseProfile",function(){n.setState({anchorEl:null})}),Et(jt(jt(n)),"timeChange",function(e){n.setState({time:e})}),Et(jt(jt(n)),"renderButton",function(){return n.props.create?St(re.a,{color:"primary",onClick:n.submit},void 0,"Submit"):n.props.mode?n.state.mode?St(re.a,{color:"primary",onClick:n.edit},void 0,"Edit"):[St(re.a,{color:"primary",onClick:n.submit},0,"Submit"),St(re.a,{color:"secondary",onClick:n.delete},1,"Delete")]:St(re.a,{color:"primary",onClick:n.join},void 0,"Join")}),Et(jt(jt(n)),"renderPassenger",function(){if(!n.props.create&&n.props.data.passengers)return n.props.data.passengers.map(function(e,t){var r=n.props.users[e],o=r.name.split(" "),a=o[0].charAt(0).toUpperCase();return o.length>1&&(a+=o[1].charAt(0).toUpperCase()),St(gt.a,{className:n.props.classes.chip,avatar:St(mt.a,{},void 0,a),label:o[0],"aria-owns":open?"simple-popper":void 0,"aria-haspopup":"true",clickable:!0,onClick:function(e){return n.handleProfile(e,r)}},t)})}),Et(jt(jt(n)),"renderDatetime",function(){if(n.props.create||!1===n.state.mode)return St($e.MuiPickersUtilsProvider,{utils:Ve.a},void 0,St($e.DateTimePicker,{className:"picker",value:n.state.time,label:"Date & Time",onChange:n.timeChange,disablePast:!0,showTodayButton:!0,allowKeyboardControl:!1}));var e=Date.parse(n.props.data.time),t=new Date(e),r="".concat(t.toLocaleDateString()," ").concat(t.toLocaleTimeString());return St(te.a,{className:n.props.classes.fields,disabled:!0,label:"Date & Time",defaultValue:r,type:"text"})}),Et(jt(jt(n)),"renderTitle",function(){return n.props.create?"Post an offer":n.props.users[n.props.data.user_id]?n.props.users[n.props.data.user_id].name:void 0}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.props.create?this.props.fromRequest?this.setState({disable:!1,time:this.props.data.time,fee:this.props.data.fee,passenger:this.props.passenger}):(this.resetState(),this.setState({disable:!1})):this.props.create&&this.props.mode||this.setState({disable:!0,data:this.props.data}))}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.classes,r=this.state,o=r.disable,a=r.data,i=r.passenger,s=r.fee,c=r.anchorEl,u=r.currentProfile,l=this.renderButton(),p=this.renderPassenger(),f=this.renderDatetime(),d=Boolean(c),b=this.renderTitle();return St("div",{},void 0,St(Z.a,{open:t,onClose:this.handleClose,fullWidth:!0,scroll:"paper"},void 0,St(Be.a,{},void 0,b),St(K.a,{container:!0,direction:"column",className:n.container},void 0,St(te.a,{className:n.fields,disabled:o,onChange:this.changeHandler("from"),label:"From",type:"text",defaultValue:a.asal}),St(te.a,{className:n.fields,disabled:o,onChange:this.changeHandler("to"),label:"To",type:"text",defaultValue:a.tujuan}),f,St(te.a,{className:n.fields,disabled:o,label:"Number of Passengers",onChange:this.changeHandler("passenger"),fullWidth:!0,type:"number",defaultValue:a.passenger||i}),St(K.a,{item:!0,className:n.root},void 0,p),St(ct.a,{fullWidth:!0,className:n.fields,disabled:o},void 0,kt,St(lt.a,{id:"adornment-amount",onChange:this.changeHandler("fee"),startAdornment:Rt,defaultValue:a.fee||s})),St(ae.a,{},void 0,l)),St(it,{open:d,anchorEl:c,handleClose:this.handleCloseProfile,data:u})))}}])&&Ot(n.prototype,r),o&&Ot(n,o),t}(),xt=Object(z.withStyles)(function(e){return{container:{paddingBottom:25,paddingRight:15,paddingLeft:15},root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",padding:e.spacing.unit/2},fields:{marginTop:20,marginBottom:20},chip:{margin:e.spacing.unit/2}}})(At),Pt=n("cb68f218b15ec0ac5b83"),Tt=n.n(Pt),Dt=n("4c4d244037339663cf8b"),Ut=n.n(Dt);function Nt(e,t,n,r){Ct||(Ct="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Ct,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gt={0:["#9C27B0","#4A148C"],2:["#B71C1C","#B71C1C"],3:["#0097A7","#006064"],4:["#E91E63","#880E4F"],5:["#00897B","#004D40"],6:["#FF8F00","#FF6F00"],7:["#EF6C00","#E65100"],8:["#6D4C41","#3E2723"],9:["#3949AB","#1A237E"],1:["#512DA8","#311B92"],10:["#039BE5","#01579B"]},Lt=Object.keys(Gt),Ft={};for(var qt in Lt)Ft[qt]={background:Gt[qt][0],color:"white",margin:5,borderRadius:10,padding:10,paddingTop:15,textTransform:"none",fontSize:18,"&:hover":{backgroundColor:Gt[qt][1]}};var Mt=function(e){var t=Date.parse(e),n=new Date(t),r=n.getHours()>12?n.getHours()-12:n.getHours()||"12",o=n.getMinutes()<10?"0".concat(n.getMinutes()):n.getMinutes(),a=n.getHours()>=12?"PM":"AM";return"".concat(r,":").concat(o," ").concat(a)},Bt=Nt("b",{},void 0,"/"),$t=function(e,t,n){return e?Nt("div",{className:t},void 0,n.passengers.length,Bt,n.passenger):null},Ht=Nt(Tt.a,{});var Vt,Wt=Object(z.withStyles)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){It(e,t,n[t])})}return e}({},Ft,{content:{margin:5,borderRadius:10,padding:10,paddingTop:15,textTransform:"none"},typo:{margin:0,padding:0},time:{marginRight:10,marginLeft:5},passenger:{marginRight:10}})})(function(e){var t=e.classes,n=(e.clickEvent,e.data),r=e.entry_id,o=e.checked,a=e.delay;return Nt(Ut.a,{direction:"right",in:o,style:{transitionDelay:a},mountOnEnter:!0},void 0,Nt(re.a,{variant:"contained",fullwidth:"true",className:t["".concat(n.color)],onClick:function(t){return e.clickEvent(n,r,t)}},void 0,Nt(K.a,{container:!0,direction:"row",justify:"center"},void 0,Nt(K.a,{item:!0,xs:!0,className:t.typo},void 0,n.asal),Ht,Nt(K.a,{item:!0,xs:!0,className:t.typo},void 0,n.tujuan),Nt("div",{className:t.time},void 0,Mt(n.time)),$t(n.passenger,t.passenger,n))))}),Jt=function(){return{type:"SAGA_GET_ENTRIES"}},Qt=function(e){return{type:"SAGA_POST_OFFER",payload:e}},zt=function(e){return{type:"SAGA_POST_REQUEST",payload:e}},Yt=function(e){return{type:"SAGA_DELETE_OFFER",payload:e}},Kt=function(e){return{type:"SAGA_DELETE_REQUEST",payload:e}},Xt=function(e,t){return{type:"SAGA_PATCH_JOIN",payload:{entry_id:e,user_id:t}}};function Zt(e){return(Zt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e,t,n,r){Vt||(Vt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Vt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function on(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sn=en(Le.a,{label:"Offers"}),cn=en(Le.a,{label:"Requests"}),un=en(qe.a,{}),ln=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=nn(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Zt(o)&&"function"!==typeof o?on(r):o,an(on(on(n)),"state",{value:0,currentData:{},open:!1,mode:!1,create:!1,entries:n.props.entries.offers,openRequest:!1,checked:!1,fromRequest:!1}),an(on(on(n)),"handleChange",function(e,t){n.props.get_entries(),n.setState({value:t}),n.state.value?n.setState({entries:n.props.entries.offers}):n.setState({entries:n.props.entries.requests})}),an(on(on(n)),"handleClose",function(){n.state.value?n.setState({openRequest:!1}):n.setState({open:!1})}),an(on(on(n)),"handleEntry",function(e,t,r){var o=n.props.auth.userId,a=e.user_id==o;n.state.value?n.setState({openRequest:!0}):n.setState({open:!0}),n.setState({currentData:e,mode:a,create:!1,current_entry:t})}),an(on(on(n)),"handleCreate",function(){n.state.value?n.setState({openRequest:!0}):n.setState({open:!0}),n.setState({create:!0,currentData:{}})}),an(on(on(n)),"handleSubmit",function(e){n.state.fromRequest&&n.props.delete_request(n.state.current_entry);var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){an(e,t,n[t])})}return e}({},e);t.user_id=n.props.auth.userId,n.state.value?n.props.post_request(t):n.props.post_offer(t)}),an(on(on(n)),"handleDelete",function(e){n.state.value?n.props.delete_request(e):n.props.delete_offer(e)}),an(on(on(n)),"handleJoin",function(e){n.props.patch_join(e,n.props.auth.userId)}),an(on(on(n)),"create",function(e){n.setState({open:!0,currentData:e,create:!0,value:0,fromRequest:!0,current_entry:id})}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.get_entries(),this.setState({entries:this.props.entries.offers,checked:!0})}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.open,o=t.currentData,a=t.create,i=t.openRequest,s=this.props.classes,c=n?this.props.entries.requests:this.props.entries.offers,u=Object.keys(c).map(function(t,n){return en(Wt,{clickEvent:e.handleEntry,entry_id:t,data:c[t],checked:e.state.checked,delay:100*(n+1)},n)});return en("div",{className:s.fullwidth},void 0,en(Ie.a,{value:n,onChange:this.handleChange,showLabels:!0},void 0,sn,cn),en("div",{},void 0,en(K.a,{container:!0,direction:"column",justify:"center"},void 0,u)),en(xt,{open:r,handleClose:this.handleClose,handleSubmit:this.handleSubmit,delete:this.handleDelete,mode:this.props.auth.userId===o.user_id,create:a,data:o,current_id:this.props.auth.userId,entry_id:this.state.current_entry,join:this.handleJoin,users:this.props.entries.users,fromRequest:this.state.fromRequest}),en(tt,{open:i,handleClose:this.handleClose,handleSubmit:this.handleSubmit,delete:this.handleDelete,mode:this.props.auth.userId===o.user_id,create:a,data:o,current_id:this.props.auth.userId,entry_id:this.state.current_entry,handleCreate:this.create,users:this.props.entries.users}),en("div",{className:s.button},void 0,en(re.a,{variant:"fab",color:"primary",onClick:this.handleCreate},void 0,un)))}}])&&tn(n.prototype,r),o&&tn(n,o),t}();var pn,fn=Object(c.connect)(function(e){return{auth:e.auth,entries:e.entries}},function(e){return Object(d.bindActionCreators)({get_entries:Jt,post_offer:Qt,delete_offer:Yt,patch_join:Xt,post_request:zt,delete_request:Kt},e)}),dn=Object(d.compose)(Object(z.withStyles)(function(e){return{container:{margin:20},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},fullwidth:{width:"100vw"},button:{marginTop:25,display:"flex",justifyContent:"center"}}}),fn)(ln),bn=n("b02fe3f80d4238b52f20"),hn=n.n(bn);function mn(e){return(mn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t,n,r){pn||(pn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:pn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _n=yn("h1",{},void 0," Let's Help Marlboro Community! "),jn=yn("br",{}),En=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=vn(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==mn(o)&&"function"!==typeof o?On(r):o,wn(On(On(n)),"handleChange",function(e){n.setState(wn({},e.target.name,e.target.value))}),wn(On(On(n)),"handleClick",function(){var e=n.state,t=e.name,r=e.email,o=e.password;n.props.registerUser(t,r,o)}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.classes;return yn("div",{className:e.container},void 0,_n,yn(hn.a,{elevation:10,square:!1},void 0,yn("div",{className:e.content},void 0,yn(K.a,{container:!0,justify:"center",direction:"column"},void 0,yn(te.a,{name:"name",label:"Name",fullwidth:"true",onChange:this.handleChange,margin:"normal"}),yn(te.a,{name:"email",label:"Nook Username",fullwidth:"true",onChange:this.handleChange,margin:"normal"}),yn(te.a,{name:"password",label:"Password",fullwidth:"true",type:"password",autoComplete:"current-password",margin:"normal",onChange:this.handleChange}),jn,yn(re.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:this.handleClick},void 0,"Register")))))}}])&&gn(n.prototype,r),o&&gn(n,o),t}();var Cn,kn=Object(z.withStyles)(function(e){return{container:{margin:20},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},content:{paddingLeft:50,paddingRight:50,paddingTop:5,paddingBottom:25}}})(Object(f.withRouter)(Object(c.connect)(function(e){return{auth:e.auth}},function(e){return Object(d.bindActionCreators)(r,e)})(En)));function Rn(e,t,n,r){Cn||(Cn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Cn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function An(){return(An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Pn=Rn(f.Redirect,{to:"/home"}),Tn=Rn(f.Redirect,{to:"/register"});var Dn,Un=function(e){var t=e.component,n=e.isAuthenticated,r=xn(e,["component","isAuthenticated"]),o=Rn(t,{}),i=Rn(t,{});return a.a.createElement(f.Route,An({},r,{render:function(e){return n?"/"==e.match.path||"/register"==e.match.path?Pn:o:"/"==e.match.path||"/register"==e.match.path?i:Tn}}))};function Nn(e){return(Nn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,t,n,r){Dn||(Dn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Dn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t){return!t||"object"!==Nn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qn(e,t){return(qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mn=In(K.a,{item:!0,md:!0,xs:!0}),Bn=In(f.Route,{component:Ue}),$n=In(K.a,{item:!0,md:!0,xs:!0}),Hn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ln(this,Fn(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qn(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.checkAuth()}},{key:"checkAuth",value:function(){var e=this;if(!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).isAuthenticated){var t=localStorage.getItem("token");t&&fetch("/api/is_token_valid",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({token:t})}).then(function(n){200===n.status?(e.props.loginUserSuccess(t),e.props.get_user(e.props.auth.userId)):e.props.loginUserFailure(n)})}}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return In(z.MuiThemeProvider,{theme:Object(z.createMuiTheme)({typography:{useNextVariants:!0}})},void 0,In(Te,{isLogin:!1,data:{name:this.props.auth.userFullName,email:this.props.auth.userName+"@marlboro.edu",password:""}}),In(K.a,{container:!0,direction:"row"},void 0,Mn,In(K.a,{item:!0,xs:10,md:4},void 0,In(K.a,{container:!0,justify:"center"},void 0,In(f.Switch,{},void 0,In(Un,{isAuthenticated:e,exact:!0,path:"/",component:kn}),In(Un,{isAuthenticated:e,path:"/home",component:dn}),In(Un,{isAuthenticated:e,path:"/register",component:kn}),Bn))),$n))}}])&&Gn(n.prototype,r),o&&Gn(n,o),t}();var Vn=Object(f.withRouter)(Object(c.connect)(function(e){return{auth:e.auth}},function(e){return Object(d.bindActionCreators)(r,e)})(Hn)),Wn=(n("9c6be9f00377ac8be3d8"),n("54f683fcda7806277002"),n("74431d47afb6248fcb69")),Jn=n("d559af73313ecb218818"),Qn=n.n(Jn);var zn;function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kn,Xn,Zn=(Kn={token:null,userName:null,isAuthenticated:!1,isAuthenticating:!1,statusText:null,isRegistering:!1,isRegistered:!1,registerStatusText:null},Yn(zn={},"LOGIN_USER_REQUEST",function(e){return Object.assign({},e,{isAuthenticating:!0,statusText:null})}),Yn(zn,"LOGIN_USER_SUCCESS",function(e,t){return Object.assign({},e,{isAuthenticating:!1,isAuthenticated:!0,token:t.token,userName:Qn()(t.token).email,userId:Qn()(t.token).id,statusText:"You have been successfully logged in."})}),Yn(zn,"SAVE_USER_INFO",function(e,t){return Object.assign({},e,{userFullName:t})}),Yn(zn,"LOGIN_USER_FAILURE",function(e,t){return Object.assign({},e,{isAuthenticating:!1,isAuthenticated:!1,token:null,userName:null,statusText:"Authentication Error: ".concat(t.status," ").concat(t.statusText)})}),Yn(zn,"LOGOUT_USER",function(e){return Object.assign({},e,{isAuthenticated:!1,token:null,userName:null,statusText:"You have been successfully logged out."})}),Yn(zn,"REGISTER_USER_SUCCESS",function(e,t){return Object.assign({},e,{isAuthenticating:!1,isAuthenticated:!0,isRegistering:!1,token:t.token,userName:Qn()(t.token).email,userId:Qn()(t.token).id,registerStatusText:"You have been successfully logged in."})}),Yn(zn,"REGISTER_USER_REQUEST",function(e){return Object.assign({},e,{isRegistering:!0})}),Yn(zn,"REGISTER_USER_FAILURE",function(e,t){return Object.assign({},e,{isAuthenticated:!1,token:null,userName:null,registerStatusText:"Register Error: ".concat(t.status," ").concat(t.statusText)})}),Xn=zn,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0,n=Xn[t.type];return n?n(e,t.payload):e});function er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{history:[]},t=arguments.length>1?arguments[1]:void 0,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){er(e,t,n[t])})}return e}({},e);switch(t.type){case"NAVIGATE":return n.history.push(t.payload),n;default:return e}};function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{offers:{},requests:{},users:{}},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){nr(e,t,n[t])})}return e}({},e);switch(n){case"SAVE_ENTRIES":return o.offers=r.offers,o.requests=r.requests,o.users=r.users,o;default:return e}},or=Object(d.combineReducers)({auth:Zn,temporaryHistory:tr,entries:rr}),ar=Object(u.connectRouter)(p)(or),ir=n("6c68d13fe9e3e77d8fc4"),sr=regeneratorRuntime.mark(yr),cr=regeneratorRuntime.mark(gr),ur=regeneratorRuntime.mark(vr),lr=regeneratorRuntime.mark(Sr),pr=regeneratorRuntime.mark(Or),fr=regeneratorRuntime.mark(wr),dr=regeneratorRuntime.mark(_r),br=regeneratorRuntime.mark(jr),hr=regeneratorRuntime.mark(Er),mr=regeneratorRuntime.mark(Cr);function yr(e){var t,n,r,o,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.name,r=t.email,o=t.password,i.prev=1,i.next=4,Object(ir.a)(E,n,r,o);case 4:return a=i.sent,i.next=7,localStorage.setItem("token",a.data.token);case 7:return i.next=9,Object(ir.b)({type:"REGISTER_USER_SUCCESS",payload:{token:a.data.token}});case 9:return i.t0=ir.b,i.next=12,Object(ir.a)(N,"/home");case 12:return i.t1=i.sent,i.next=15,(0,i.t0)(i.t1);case 15:i.next=25;break;case 17:return i.prev=17,i.t2=i.catch(1),i.t3=ir.b,i.next=22,Object(ir.a)(V(i.t2));case 22:return i.t4=i.sent,i.next=25,(0,i.t3)(i.t4);case 25:case"end":return i.stop()}},sr,this,[[1,17]])}function gr(e){var t,n,r,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.email,r=t.password,a.prev=1,a.next=4,Object(ir.a)(C,n,r);case 4:return o=a.sent,a.next=7,localStorage.setItem("token",o.data.token);case 7:return a.next=9,Object(ir.b)({type:"LOGIN_USER_SUCCESS",payload:{token:o.data.token}});case 9:return a.t0=ir.b,a.next=12,Object(ir.a)(N,"/home");case 12:return a.t1=a.sent,a.next=15,(0,a.t0)(a.t1);case 15:a.next=19;break;case 17:a.prev=17,a.t2=a.catch(1);case 19:case"end":return a.stop()}},cr,this,[[1,17]])}function vr(e){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return t=e.sent,e.next=5,Object(ir.a)(k,t);case 5:return n=e.sent,e.next=8,Object(ir.a)(A,t);case 8:return r=e.sent,e.next=11,Object(ir.b)({type:"SAVE_ENTRIES",payload:{offers:n.data.offers,requests:n.data.requests,users:r.data}});case 11:case"end":return e.stop()}},ur,this)}function Sr(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,localStorage.getItem("token");case 2:return t=n.sent,n.next=5,Object(ir.a)(x,e.payload,t);case 5:return n.sent,n.next=8,Object(ir.b)({type:"SAGA_GET_ENTRIES"});case 8:case"end":return n.stop()}},lr,this)}function Or(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,localStorage.getItem("token");case 2:return t=n.sent,n.next=5,Object(ir.a)(D,e.payload,t);case 5:return n.sent,n.next=8,Object(ir.b)({type:"SAGA_GET_ENTRIES"});case 8:case"end":return n.stop()}},pr,this)}function wr(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,localStorage.getItem("token");case 2:return t=n.sent,n.next=5,Object(ir.a)(P,e.payload,t);case 5:return n.sent,n.next=8,Object(ir.b)({type:"SAGA_GET_ENTRIES"});case 8:case"end":return n.stop()}},fr,this)}function _r(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,localStorage.getItem("token");case 2:return t=n.sent,n.next=5,Object(ir.a)(U,e.payload,t);case 5:return n.sent,n.next=8,Object(ir.b)({type:"SAGA_GET_ENTRIES"});case 8:case"end":return n.stop()}},dr,this)}function jr(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,localStorage.getItem("token");case 2:return t=n.sent,n.next=5,Object(ir.a)(T,e.payload,t);case 5:return n.sent,n.next=8,Object(ir.b)({type:"SAGA_GET_ENTRIES"});case 8:case"end":return n.stop()}},br,this)}function Er(e){var t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,localStorage.getItem("token");case 2:return t=r.sent,r.next=5,Object(ir.a)(R,e.payload.id,t);case 5:return n=r.sent,r.next=8,Object(ir.b)({type:"SAVE_USER_INFO",payload:n.data.name});case 8:case"end":return r.stop()}},hr,this)}function Cr(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ir.c)("SAGA_REGISTER",yr);case 2:return e.next=4,Object(ir.c)("SAGA_LOGIN",gr);case 4:return e.next=6,Object(ir.c)("SAGA_GET_ENTRIES",vr);case 6:return e.next=8,Object(ir.c)("SAGA_GET_USER",Er);case 8:return e.next=10,Object(ir.c)("SAGA_POST_OFFER",Sr);case 10:return e.next=12,Object(ir.c)("SAGA_DELETE_OFFER",Or);case 12:return e.next=14,Object(ir.c)("SAGA_POST_REQUEST",wr);case 14:return e.next=16,Object(ir.c)("SAGA_DELETE_REQUEST",_r);case 16:return e.next=18,Object(ir.c)("SAGA_PATCH_JOIN",jr);case 18:case"end":return e.stop()}},mr,this)}var kr,Rr=Object(Wn.a)();function Ar(e,t,n,r){kr||(kr="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:kr,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=[Rr,Object(u.routerMiddleware)(t)],r=[d.applyMiddleware.apply(void 0,n)],o=d.compose,a=Object(d.createStore)(ar,e,o.apply(void 0,r));return a.runSaga=Rr.run(Cr),a.injectedSagas={},a}({},p),Pr=document.getElementById("app");s.a.render(Ar(c.Provider,{store:xr},void 0,Ar(u.ConnectedRouter,{history:p},void 0,Ar(Vn,{}))),Pr)},"9c6be9f00377ac8be3d8":function(e,t,n){e.exports=n.p+"favicon.ico"}},[[0,1,2]]]);