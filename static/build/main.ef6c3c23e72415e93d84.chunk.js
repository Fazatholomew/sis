(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(e,t,n){n("5b15df55c1316f23e9d0"),e.exports=n("8b703812aa8ae3c41814")},"776f7b15d44f70e7504d":function(e,t,n){e.exports=n.p+"6df5546dfecb3262337cb56455b9134c.svg"},"8b703812aa8ae3c41814":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"checkToken",function(){return O}),n.d(r,"loginUserSuccess",function(){return w}),n.d(r,"get_user",function(){return _}),n.d(r,"loginUserFailure",function(){return j}),n.d(r,"loginUserRequest",function(){return E}),n.d(r,"logout",function(){return k}),n.d(r,"logoutAndRedirect",function(){return C}),n.d(r,"redirectToRoute",function(){return R}),n.d(r,"registerUserRequest",function(){return x}),n.d(r,"registerUserSuccess",function(){return A}),n.d(r,"registerUserFailure",function(){return P}),n.d(r,"registerUser",function(){return T}),n.d(r,"createUserWrapper",function(){return U});n("8c8e4f08a118a28666b0");var o=n("8af190b70a6bc55c6f1b"),a=n.n(o),i=n("63f14ac74ce296f77f4d"),s=n.n(i),c=n("d7dd51e1bf6bfc2c9c3d"),u=n("3aced5b508e7389026da"),l=n("89fa59dfd48f288c4600"),p=n.n(l)()(),f=(n("6735bdf1a3a541ab43fd"),n("e95a63b25fb92ed15721")),d=n("ab4cb61bcb2dc161defb"),b=n("999b8422c18ed8d20c8d"),h="LOGIN_USER_FAILURE",y="LOGOUT_USER",m="REGISTER_USER_SUCCESS",g="REGISTER_USER_FAILURE",v="REGISTER_USER_REQUEST";function S(e){return e.data}function O(){return{type:"SAGA_CHECK_TOKEN"}}function w(e){return localStorage.setItem("token",e),{type:"LOGIN_USER_SUCCESS",payload:{token:e}}}function _(e){return{type:"SAGA_GET_USER",payload:{id:e}}}function j(e){return localStorage.removeItem("token"),{type:h,payload:{status:e.response.status,statusText:e.response.statusText}}}function E(e,t){return{type:"SAGA_LOGIN",payload:{email:e,password:t}}}function k(){return localStorage.removeItem("token"),{type:y}}function C(){return function(e){e(k()),b.browserHistory.push("/")}}function R(e){return function(){b.browserHistory.push(e)}}function x(){return{type:v}}function A(e){return localStorage.setItem("token",e),{type:m,payload:{token:e}}}function P(e){return localStorage.removeItem("token"),{type:g,payload:{status:e.response.status,statusText:e.response.statusText}}}function T(e,t,n){return{type:"SAGA_REGISTER",payload:{name:e,email:t,password:n}}}function U(e,t,n){create_user(e,t,n).then(S).then(function(e){try{return e}catch(e){return P({response:{status:403,statusText:"Invalid token"}})}}).catch(function(e){return P({response:{status:403,statusText:"User with that email already exists"}})})}var D,N=n("6938d226fd372a75cbf9"),G=n("435859b6b76fb67a754a"),I=n.n(G),L=(n("8a2d1b95e05b6a321e74"),n("e727e731a9bed8ec3c2a")),F=n.n(L),q=n("c7fd554010f79f6c0ef8"),M=n.n(q),B=n("2aea235afd5c55b8b19b"),$=n.n(B),H=n("10e4c616cb3b01bafafd"),V=n.n(H);function W(e){return(W="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t,n,r){D||(D="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:D,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Z(e,t,n[t])})}return e}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee,te=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=z(t).call(this,e),n=!o||"object"!==W(o)&&"function"!==typeof o?X(r):o,Z(X(X(n)),"handleClose",function(){var e=Q({},n.state.dialogData);n.props.mode&&(e.disable=!0,e.buttons=n.viewMode),n.setState({dialogData:e}),n.props.handleClose()}),Z(X(X(n)),"handleChange",function(e){n.setState(Z({},e.target.name,e.target.value))}),Z(X(X(n)),"edit",function(){var e=Q({},n.state.dialogData);e.disable=!1,e.buttons=n.viewModeEdit,n.setState({dialogData:e})}),Z(X(X(n)),"loggin",function(){n.state.Username&&n.state.Password&&(n.props.login(n.state.Username,n.state.Password),n.handleClose())}),Z(X(X(n)),"submit",function(){}),Z(X(X(n)),"Delete",function(){}),Z(X(X(n)),"loggout",function(){n.handleClose(),n.props.logout()}),Z(X(X(n)),"logginFields",{Username:"",Password:""}),Z(X(X(n)),"viewMode",[{color:"primary",click:n.edit,label:"Edit"},{color:"primary",click:n.loggout,label:"Logout"}]),Z(X(X(n)),"viewModeEdit",[{color:"primary",click:n.submit,label:"Submit",fullWidth:!1},{color:"secondary",click:n.delete,label:"Delete",fullWidth:!1}]),Z(X(X(n)),"logginMode",[{color:"primary",click:n.loggin,label:"Login"}]),n.state={dialogData:{buttons:n.logginMode,data:n.logginFields,disable:!1},Username:null,Password:null},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e={};e=this.props.mode?{buttonData:this.viewMode,data:this.props.profile,disable:!0}:{buttonData:this.logginMode,data:this.logginFields,disable:!1},this.setState({dialogData:e})}},{key:"componentDidUpdate",value:function(e){if(this.props.mode!==e.mode||this.props.profile!==e.profile){var t={};t=this.props.mode?{buttonData:this.viewMode,data:this.props.profile,disable:!0}:{buttonData:this.logginMode,data:this.logginFields,disable:!1},this.setState({dialogData:t}),console.log(this.state.dialogData)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.open,r=(t.mode,t.classes),o=this.state.dialogData,a=o.disable,i=o.buttonData,s=o.data,c={Passenger:"number",Time:"time",Password:"password"},u=i?i.map(function(t,n){return J($.a,{color:t.color?t.color:"primary",onClick:t.click?t.click:e.edit,fullWidth:t.fullWidth},n,t.label?t.label:"Button")}):null,l=Object.keys(s).map(function(t,n){return J(M.a,{name:t,onChange:e.handleChange,className:r.fields,label:t,disabled:a,defaultValue:s[t]||null,fullWidth:!0,type:c[t]||"text"},n)});return J("div",{},void 0,J(F.a,{open:n,onClose:this.handleClose,fullWidth:!0,scroll:"paper"},void 0,J(I.a,{container:!0,direction:"column",className:r.container},void 0,l,J(V.a,{},void 0,u||null))))}}])&&K(n.prototype,r),o&&K(n,o),t}(),ne=Object(N.withStyles)(function(e){return{container:{paddingBottom:25,paddingRight:15,paddingLeft:15},fields:{marginTop:20,marginBottom:20}}})(te),re=n("b78ee477e6ac6a65dd83"),oe=n.n(re),ae=n("282d5645b44ba868741e"),ie=n.n(ae),se=n("921c0b8c557fe6ba5da8"),ce=n.n(se),ue=function(e,t){return Object(u.push)(t)};function le(e){return(le="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t,n,r){ee||(ee="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:ee,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=de(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==le(o)&&"function"!==typeof o?he(r):o,ye(he(he(n)),"state",{open:!1}),ye(he(he(n)),"handleClose",function(){n.setState({open:!1})}),ye(he(he(n)),"handleClick",function(){n.props.checkToken(),n.setState({open:!n.props.open})}),ye(he(he(n)),"handleLogout",function(){n.props.logout(),n.props.navigateto("/register")}),n}var r,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(t,a.a.Component),r=t,(o=[{key:"render",value:function(){var e=this.props,t=e.classes,r=e.auth,o=e.userProfile,a=this.state.open,i={Name:o.name,Email:o.email,Password:""};return console.log(i),pe("div",{className:t.root},void 0,pe(oe.a,{position:"sticky",className:t.header},void 0,pe(ie.a,{},void 0,pe("img",{src:n("776f7b15d44f70e7504d")}),pe(ce.a,{variant:"h6",color:"inherit",className:t.grow}),this.props.auth?pe($.a,{color:"inherit",onClick:this.handleClick},void 0,"Profile"):pe($.a,{color:"inherit",onClick:this.handleClick},void 0,"Login"))),pe(ne,{open:a,mode:r,logout:this.handleLogout,login:this.props.loginUserRequest,handleClose:this.handleClose,profile:i}))}}])&&fe(r.prototype,o),i&&fe(r,i),t}();var ge,ve=Object(N.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},header:{background:"linear-gradient(0deg, rgba(230,81,0,1) 0%, rgba(244,67,54,1) 100%)"}})(Object(f.withRouter)(Object(c.connect)(function(e){return{auth:e.auth.isAuthenticated,userProfile:e.auth.userProfile}},function(e){return Object(d.bindActionCreators)({navigateto:ue,logout:k,loginUserRequest:E,checkToken:O},e)})(me))),Se=n("be49ece3c9ac38c7621f"),Oe=Object(Se.a)(function(){return n.e(3).then(n.bind(null,"8937ca26cad1b574ef33"))}),we=n("28e75ddca4f48a668c52"),_e=n.n(we),je=n("33841c6638c3847279b5"),Ee=n.n(je),ke=n("c233babf320cd068509e"),Ce=n.n(ke),Re=n("eb6b79030a47f0b10efc"),xe=n.n(Re),Ae=n("1551459233b95bf53af9"),Pe=n.n(Ae),Te=n("ae3a24c34ecf15b7b581"),Ue=n("02b185abdbff04d8a73d"),De=n.n(Ue);function Ne(e){return(Ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t,n,r){ge||(ge="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:ge,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be,$e=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=Le(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Ne(o)&&"function"!==typeof o?qe(r):o,Me(qe(qe(n)),"state",{time:null,disable:!0,mode:!0,data:n.props.data}),Me(qe(qe(n)),"submit",function(){var e=n.state,t=e.from,r=e.to;if(t&&r){var o={from:t=Ve(t),to:r=Ve(r),time:n.state.time.toUTCString()};n.props.create||n.props.delete(n.props.entry_id),n.props.handleSubmit(o),n.setState({time:new Date(Date.now())}),n.props.handleClose()}}),Me(qe(qe(n)),"edit",function(){var e=n.props.data,t=e.asal,r=e.tujuan,o=Date.parse(n.props.data.time),a=new Date(o);n.setState({mode:!1,disable:!1,from:t,to:r,time:a})}),Me(qe(qe(n)),"delete",function(){n.props.delete(n.props.entry_id),n.handleClose()}),Me(qe(qe(n)),"create",function(){n.props.handleCreate(n.props.data,n.props.entry_id),n.handleClose()}),Me(qe(qe(n)),"handleClose",function(){n.props.create||n.setState({disable:!0,mode:!0}),n.props.handleClose()}),Me(qe(qe(n)),"changeHandler",function(e){return function(t){n.setState(Me({},e,t.target.value))}}),Me(qe(qe(n)),"timeChange",function(e){n.setState({time:e})}),Me(qe(qe(n)),"renderButton",function(){return n.props.create?Ge($.a,{color:"primary",onClick:n.submit},void 0,"Submit"):n.props.mode?n.state.mode?Ge($.a,{color:"primary",onClick:n.edit},void 0,"Edit"):[Ge($.a,{color:"primary",onClick:n.submit},0,"Submit"),Ge($.a,{color:"secondary",onClick:n.delete},1,"Delete")]:Ge($.a,{color:"primary",onClick:n.create},void 0,"Create Offer")}),Me(qe(qe(n)),"renderDatetime",function(){if(n.props.create||!1===n.state.mode)return Ge(Te.MuiPickersUtilsProvider,{utils:De.a},void 0,Ge(Te.DateTimePicker,{className:"picker",value:n.state.time,label:"Date & Time",onChange:n.timeChange,disablePast:!0,showTodayButton:!0,allowKeyboardControl:!1}));var e=Date.parse(n.props.data.time),t=new Date(e),r="".concat(t.toLocaleDateString()," ").concat(t.toLocaleTimeString());return Ge(M.a,{className:n.props.classes.fields,disabled:!0,label:"Date & Time",defaultValue:r,type:"text"})}),Me(qe(qe(n)),"renderTitle",function(){return n.props.create?"Post a request":n.props.users[n.props.data.user_id]?"".concat(n.props.users[n.props.data.user_id].name," (").concat(n.props.users[n.props.data.user_id].email,")"):void 0}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.props.create?this.setState({data:{},disable:!1}):this.props.create&&this.props.mode||this.setState({disable:!0,data:this.props.data}))}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.classes,r=this.state,o=r.disable,a=r.data,i=this.renderButton(),s=this.renderDatetime(),c=this.renderTitle();return Ge("div",{},void 0,Ge(F.a,{open:t,onClose:this.handleClose,fullWidth:!0,scroll:"paper"},void 0,Ge(xe.a,{},void 0,c),Ge(Pe.a,{},void 0,Ge(I.a,{container:!0,direction:"column",className:n.container},void 0,Ge(M.a,{className:n.fields,disabled:o,onChange:this.changeHandler("from"),label:"From",type:"text",defaultValue:a.asal}),Ge(M.a,{className:n.fields,disabled:o,onChange:this.changeHandler("to"),label:"To",type:"text",defaultValue:a.tujuan}),s,Ge(V.a,{},void 0,i)))))}}])&&Ie(n.prototype,r),o&&Ie(n,o),t}(),He=Object(N.withStyles)(function(e){return{container:{paddingBottom:25,paddingRight:15,paddingLeft:15},root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",padding:e.spacing.unit/2},fields:{marginTop:20,marginBottom:20},chip:{margin:e.spacing.unit/2}}})($e),Ve=function(e){var t=e.split(" ");return t.length>1?t.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "):e.charAt(0).toUpperCase()+e.slice(1)},We=n("1fcb8f6d8f8292281b75"),Je=n.n(We);function Qe(e,t,n,r){Be||(Be="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Be,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Ke,ze=Object(N.withStyles)(function(e){return{typography:{margin:2*e.spacing.unit},avatar:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",padding:e.spacing.unit/2}}})(function(e){var t=e.data,n=e.anchorEl,r=e.handleClose,o=e.classes,a=e.open;if(t.name){var i=t.name.split(" ");i[0].charAt(0).toUpperCase(),i.length>1&&i[1].charAt(0).toUpperCase()}return Qe(Je.a,{id:"simple-popper",open:a,anchorEl:n,onClose:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},void 0,Qe(I.a,{container:!0,direction:"column",className:o.avatar},void 0,Qe(ce.a,{className:o.typography},void 0,t.name),Qe(ce.a,{className:o.typography},void 0,Qe("a",{href:"mailto:".concat(t.email)},void 0,Qe("i",{},void 0,t.email)))))}),Ye=n("16c7abd7abc407b9f247"),Xe=n.n(Ye),Ze=n("bc75856162e63311fb97"),et=n.n(Ze),tt=n("c09d19c0d058d138126d"),nt=n.n(tt),rt=n("8e8be3dfc3937f600de1"),ot=n.n(rt),at=n("ecbdedbb63dd08b2841e"),it=n.n(at),st=n("be638c054224589367e1"),ct=n.n(st);function ut(e){return(ut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t,n,r){Ke||(Ke="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Ke,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt,mt=lt(nt.a,{htmlFor:"adornment-amount"},void 0,"Fee ",lt("sup",{},void 0,lt("i",{},void 0,"(optional)"))),gt=lt(ot.a,{position:"start"},void 0,"$"),vt=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=ft(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==ut(o)&&"function"!==typeof o?bt(r):o,ht(bt(bt(n)),"state",{passenger:null,fee:null,time:null,disable:!0,mode:!0,data:{},anchorEl:null,currentProfile:{}}),ht(bt(bt(n)),"submit",function(){var e=n.state,t=e.from,r=e.to,o=e.fee,a=e.passenger;if(n.state.data.asal&&!t&&(t=n.state.data.asal,r=n.state.data.tujuan),t&&r){t=Ot(t),r=Ot(r),a=a||1;var i=(n.state.time||new Date(Date.now())).toUTCString(),s=[];n.props.create||(s=n.props.data.passengers,n.props.delete(n.props.entry_id));var c={from:t,to:r,fee:o,passenger:a,time:i,passengers:s};n.props.handleSubmit(c),n.resetState(),n.props.handleClose()}}),ht(bt(bt(n)),"edit",function(){var e=n.props.data,t=e.asal,r=e.tujuan,o=e.fee,a=e.passenger,i=Date.parse(n.props.data.time),s=new Date(i);n.setState({mode:!1,disable:!1,from:t,to:r,fee:o,passenger:a,time:s})}),ht(bt(bt(n)),"resetState",function(){n.setState({passenger:1,fee:0,time:new Date(Date.now()),from:"",to:"",asal:"",tujuan:"",data:{}})}),ht(bt(bt(n)),"delete",function(){n.props.delete(n.props.entry_id),n.handleClose()}),ht(bt(bt(n)),"join",function(){n.props.join(n.props.entry_id),n.handleClose()}),ht(bt(bt(n)),"handleClose",function(){n.props.create||n.setState({disable:!0,mode:!0}),n.resetState(),n.props.handleClose()}),ht(bt(bt(n)),"changeHandler",function(e){return function(t){n.setState(ht({},e,t.target.value))}}),ht(bt(bt(n)),"handleProfile",function(e,t){n.setState({currentProfile:t,anchorEl:e.currentTarget})}),ht(bt(bt(n)),"handleCloseProfile",function(){n.setState({anchorEl:null})}),ht(bt(bt(n)),"timeChange",function(e){n.setState({time:e})}),ht(bt(bt(n)),"renderButton",function(){return n.props.create?lt($.a,{color:"primary",onClick:n.submit},void 0,"Submit"):n.props.mode?n.state.mode?lt($.a,{color:"primary",onClick:n.edit},void 0,"Edit"):[lt($.a,{color:"primary",onClick:n.submit},0,"Submit"),lt($.a,{color:"secondary",onClick:n.delete},1,"Delete")]:lt($.a,{color:"primary",onClick:n.join},void 0,"Join")}),ht(bt(bt(n)),"renderPassenger",function(){if(!n.props.create&&n.props.data.passengers)return n.props.data.passengers.map(function(e,t){var r=n.props.users[e],o=r.name.split(" "),a=o[0].charAt(0).toUpperCase();return o.length>1&&(a+=o[1].charAt(0).toUpperCase()),lt(ct.a,{className:n.props.classes.chip,avatar:lt(it.a,{},void 0,a),label:o[0],"aria-owns":open?"simple-popper":void 0,"aria-haspopup":"true",clickable:!0,onClick:function(e){return n.handleProfile(e,r)}},t)})}),ht(bt(bt(n)),"renderDatetime",function(){if(n.props.create||!1===n.state.mode)return lt(Te.MuiPickersUtilsProvider,{utils:De.a},void 0,lt(Te.DateTimePicker,{className:"picker",value:n.state.time,label:"Date & Time",onChange:n.timeChange,disablePast:!0,showTodayButton:!0,allowKeyboardControl:!1}));var e=Date.parse(n.props.data.time),t=new Date(e),r="".concat(t.toLocaleDateString()," ").concat(t.toLocaleTimeString());return lt(M.a,{className:n.props.classes.fields,disabled:!0,label:"Date & Time",defaultValue:r,type:"text"})}),ht(bt(bt(n)),"renderTitle",function(){return n.props.create?"Post an offer":n.props.users[n.props.data.user_id]?"".concat(n.props.users[n.props.data.user_id].name," \n\t\t\t(").concat(n.props.users[n.props.data.user_id].email,")"):void 0}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidUpdate",value:function(e){e!==this.props&&(this.props.create?this.props.fromRequest?this.setState({disable:!1,time:new Date(this.props.data.time),fee:this.props.data.fee||0,passenger:this.props.passenger||1}):(this.resetState(),this.setState({disable:!1})):this.props.create&&this.props.mode||this.setState({disable:!0,data:this.props.data}))}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.classes,r=this.state,o=r.disable,a=r.data,i=r.passenger,s=r.fee,c=r.anchorEl,u=r.currentProfile,l=this.renderButton(),p=this.renderPassenger(),f=this.renderDatetime(),d=Boolean(c),b=this.renderTitle();return lt("div",{},void 0,lt(F.a,{open:t,onClose:this.handleClose,fullWidth:!0,scroll:"paper"},void 0,lt(xe.a,{},void 0,b),lt(Pe.a,{},void 0,lt(I.a,{container:!0,direction:"column",className:n.container},void 0,lt(M.a,{className:n.fields,disabled:o,onChange:this.changeHandler("from"),label:"From",type:"text",defaultValue:a.asal}),lt(M.a,{className:n.fields,disabled:o,onChange:this.changeHandler("to"),label:"To",type:"text",defaultValue:a.tujuan}),f,lt(M.a,{className:n.fields,disabled:o,label:"Number of Passengers",onChange:this.changeHandler("passenger"),fullWidth:!0,type:"number",defaultValue:a.passenger||i}),lt(I.a,{item:!0,className:n.root},void 0,p),lt(Xe.a,{fullWidth:!0,className:n.fields,disabled:o},void 0,mt,lt(et.a,{id:"adornment-amount",onChange:this.changeHandler("fee"),startAdornment:gt,defaultValue:a.fee||s})),lt(V.a,{},void 0,l))),lt(ze,{open:d,anchorEl:c,handleClose:this.handleCloseProfile,data:u})))}}])&&pt(n.prototype,r),o&&pt(n,o),t}(),St=Object(N.withStyles)(function(e){return{container:{paddingBottom:25,paddingRight:15,paddingLeft:15},root:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",padding:e.spacing.unit/2},fields:{marginTop:20,marginBottom:20},chip:{margin:e.spacing.unit/2}}})(vt),Ot=function(e){var t=e.split(" ");return t.length>1?t.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "):e.charAt(0).toUpperCase()+e.slice(1)},wt=n("cb68f218b15ec0ac5b83"),_t=n.n(wt),jt=n("4c4d244037339663cf8b"),Et=n.n(jt);function kt(e,t,n,r){yt||(yt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:yt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rt={0:["#9C27B0","#4A148C"],2:["#C62828","#B71C1C"],3:["#0097A7","#006064"],4:["#E91E63","#880E4F"],5:["#00897B","#004D40"],6:["#FF8F00","#FF6F00"],7:["#EF6C00","#E65100"],8:["#6D4C41","#3E2723"],9:["#3949AB","#1A237E"],1:["#512DA8","#311B92"],10:["#039BE5","#01579B"]},xt=Object.keys(Rt),At={};for(var Pt in xt)At[Pt]={background:Rt[Pt][0],color:"white",margin:5,borderRadius:10,padding:10,paddingTop:15,textTransform:"none",fontSize:18,"&:hover":{backgroundColor:Rt[Pt][1]}};var Tt=function(e){var t=Date.parse(e),n=new Date(t),r=n.getHours()>12?n.getHours()-12:n.getHours()||"12",o=n.getMinutes()<10?"0".concat(n.getMinutes()):n.getMinutes(),a=n.getHours()>=12?"PM":"AM";return"".concat(r,":").concat(o," ").concat(a)},Ut=kt("b",{},void 0,"/"),Dt=function(e,t,n){return e?kt("div",{className:t},void 0,n.passengers.length,Ut,n.passenger):null},Nt=kt(_t.a,{});var Gt,It=Object(N.withStyles)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ct(e,t,n[t])})}return e}({},At,{content:{margin:5,borderRadius:10,padding:10,paddingTop:15,textTransform:"none"},typo:{margin:0,padding:0},time:{marginRight:10,marginLeft:5},passenger:{marginRight:10}})})(function(e){var t=e.classes,n=(e.clickEvent,e.data),r=e.entry_id,o=e.checked,a=e.delay;return kt(Et.a,{direction:"right",in:o,style:{transitionDelay:a},mountOnEnter:!0},void 0,kt($.a,{variant:"contained",fullwidth:"true",className:t["".concat(n.color)],onClick:function(t){return e.clickEvent(n,r,t)}},void 0,kt(I.a,{container:!0,direction:"row",justify:"center"},void 0,kt(I.a,{item:!0,xs:!0,className:t.typo},void 0,n.asal.substring(0,17)),Nt,kt(I.a,{item:!0,xs:!0,className:t.typo},void 0,n.tujuan.substring(0,17)),kt("div",{className:t.time},void 0,Tt(n.time)),Dt(n.passenger,t.passenger,n))))}),Lt=function(){return{type:"SAGA_GET_ENTRIES"}},Ft=function(e){return{type:"SAGA_POST_OFFER",payload:e}},qt=function(e){return{type:"SAGA_POST_REQUEST",payload:e}},Mt=function(e){return{type:"SAGA_DELETE_OFFER",payload:e}},Bt=function(e){return{type:"SAGA_DELETE_REQUEST",payload:e}},$t=function(e,t){return{type:"SAGA_PATCH_JOIN",payload:{entry_id:e,user_id:t}}};function Ht(e){return(Ht="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t,n,r){Gt||(Gt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Gt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yt=Vt(Ee.a,{label:"Offers"}),Xt=Vt(Ee.a,{label:"Requests"}),Zt=Vt(Ce.a,{}),en=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=Jt(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Ht(o)&&"function"!==typeof o?Kt(r):o,zt(Kt(Kt(n)),"state",{value:0,currentData:{},open:!1,mode:!1,create:!1,entries:n.props.entries.offers,openRequest:!1,checked:!1,fromRequest:!1}),zt(Kt(Kt(n)),"handleChange",function(e,t){n.props.get_entries(),n.setState({value:t}),n.state.value?n.setState({entries:n.props.entries.offers}):n.setState({entries:n.props.entries.requests})}),zt(Kt(Kt(n)),"handleClose",function(){n.state.value?n.setState({openRequest:!1}):n.setState({open:!1})}),zt(Kt(Kt(n)),"handleEntry",function(e,t,r){var o=n.props.auth.userId,a=e.user_id==o;n.state.value?n.setState({openRequest:!0}):n.setState({open:!0}),n.setState({currentData:e,mode:a,create:!1,current_entry:t})}),zt(Kt(Kt(n)),"handleCreate",function(){n.state.value?n.setState({openRequest:!0}):n.setState({open:!0}),n.setState({create:!0,currentData:{}})}),zt(Kt(Kt(n)),"handleSubmit",function(e){n.state.fromRequest&&n.props.delete_request(n.state.current_entry);var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zt(e,t,n[t])})}return e}({},e);t.user_id=n.props.auth.userId,n.state.value?n.props.post_request(t):n.props.post_offer(t)}),zt(Kt(Kt(n)),"handleDelete",function(e){n.state.value?n.props.delete_request(e):n.props.delete_offer(e)}),zt(Kt(Kt(n)),"handleJoin",function(e){n.props.patch_join(e,n.props.auth.userId)}),zt(Kt(Kt(n)),"create",function(e,t){n.setState({open:!0,currentData:e,create:!0,value:0,fromRequest:!0,current_entry:t})}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.get_entries(),this.setState({entries:this.props.entries.offers,checked:!0})}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.open,o=t.currentData,a=t.create,i=t.openRequest,s=this.props.classes,c=n?this.props.entries.requests:this.props.entries.offers,u=Object.keys(c).map(function(t,n){return Vt(It,{clickEvent:e.handleEntry,entry_id:t,data:c[t],checked:e.state.checked,delay:40*(n+1)},n)});return Vt("div",{className:s.fullwidth},void 0,Vt(_e.a,{value:n,onChange:this.handleChange,showLabels:!0},void 0,Yt,Xt),Vt("div",{},void 0,Vt(I.a,{container:!0,direction:"column",justify:"center"},void 0,u)),Vt(St,{open:r,handleClose:this.handleClose,handleSubmit:this.handleSubmit,delete:this.handleDelete,mode:this.props.auth.userProfile.id===o.user_id,create:a,data:o,current_id:this.props.auth.userProfile.id,entry_id:this.state.current_entry,join:this.handleJoin,users:this.props.entries.users,fromRequest:this.state.fromRequest}),Vt(He,{open:i,handleClose:this.handleClose,handleSubmit:this.handleSubmit,delete:this.handleDelete,mode:this.props.auth.userProfile.id===o.user_id,create:a,data:o,current_id:this.props.auth.userProfile.id,entry_id:this.state.current_entry,handleCreate:this.create,users:this.props.entries.users}),Vt("div",{className:s.button},void 0,Vt($.a,{variant:"fab",color:"primary",onClick:this.handleCreate},void 0,Zt)))}}])&&Wt(n.prototype,r),o&&Wt(n,o),t}();var tn,nn=Object(c.connect)(function(e){return{auth:e.auth,entries:e.entries}},function(e){return Object(d.bindActionCreators)({get_entries:Lt,post_offer:Ft,delete_offer:Mt,patch_join:$t,post_request:qt,delete_request:Bt},e)}),rn=Object(d.compose)(Object(N.withStyles)(function(e){return{container:{margin:20},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},fullwidth:{width:"100vw"},button:{marginTop:25,display:"flex",justifyContent:"center"}}}),nn)(en),on=n("b02fe3f80d4238b52f20"),an=n.n(on);function sn(e){return(sn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e,t,n,r){tn||(tn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:tn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bn=cn("h1",{},void 0," Let's Help Marlboro Community! "),hn=cn("br",{}),yn=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=ln(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==sn(o)&&"function"!==typeof o?fn(r):o,dn(fn(fn(n)),"handleChange",function(e){n.setState(dn({},e.target.name,e.target.value))}),dn(fn(fn(n)),"handleClick",function(){var e=n.state,t=e.name,r=e.email,o=e.password;n.props.registerUser(t,r,o)}),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}(t,a.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.classes;return cn("div",{className:e.container},void 0,bn,cn(an.a,{elevation:10,square:!1},void 0,cn("div",{className:e.content},void 0,cn(I.a,{container:!0,justify:"center",direction:"column"},void 0,cn(M.a,{name:"name",label:"Name",fullwidth:"true",onChange:this.handleChange,margin:"normal"}),cn(M.a,{name:"email",label:"Nook Username",fullwidth:"true",onChange:this.handleChange,margin:"normal"}),cn(M.a,{name:"password",label:"Password",fullwidth:"true",type:"password",autoComplete:"current-password",margin:"normal",onChange:this.handleChange}),hn,cn($.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:this.handleClick},void 0,"Register")))))}}])&&un(n.prototype,r),o&&un(n,o),t}();var mn,gn=Object(N.withStyles)(function(e){return{container:{margin:20},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},content:{paddingLeft:50,paddingRight:50,paddingTop:5,paddingBottom:25}}})(Object(f.withRouter)(Object(c.connect)(function(e){return{auth:e.auth}},function(e){return Object(d.bindActionCreators)(r,e)})(yn)));function vn(e,t,n,r){mn||(mn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:mn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Sn(){return(Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function On(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var wn=vn(f.Redirect,{to:"/home"}),_n=vn(f.Redirect,{to:"/register"});var jn,En=function(e){var t=e.component,n=e.isAuthenticated,r=On(e,["component","isAuthenticated"]),o=vn(t,{}),i=vn(t,{});return a.a.createElement(f.Route,Sn({},r,{render:function(e){return n?"/"==e.match.path||"/register"==e.match.path?wn:o:"/"==e.match.path||"/register"==e.match.path?i:_n}}))};function kn(e){return(kn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(e,t,n,r){jn||(jn="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:jn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t){return!t||"object"!==kn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pn(e,t){return(Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tn=Cn(ve,{}),Un=Cn(I.a,{item:!0,md:!0,xs:!0}),Dn=Cn(f.Route,{component:Oe}),Nn=Cn(I.a,{item:!0,md:!0,xs:!0}),Gn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xn(this,An(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pn(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.checkAuth()}},{key:"checkAuth",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).isAuthenticated||localStorage.getItem("token")&&this.props.checkToken()}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return Cn(N.MuiThemeProvider,{theme:Object(N.createMuiTheme)({typography:{useNextVariants:!0}})},void 0,Tn,Cn(I.a,{container:!0,direction:"row"},void 0,Un,Cn(I.a,{item:!0,xs:10,md:4},void 0,Cn(I.a,{container:!0,justify:"center"},void 0,Cn(f.Switch,{},void 0,Cn(En,{isAuthenticated:e,exact:!0,path:"/",component:gn}),Cn(En,{isAuthenticated:e,path:"/home",component:rn}),Cn(En,{isAuthenticated:e,path:"/register",component:gn}),Dn))),Nn))}}])&&Rn(n.prototype,r),o&&Rn(n,o),t}();var In=Object(f.withRouter)(Object(c.connect)(function(e){return{auth:e.auth}},function(e){return Object(d.bindActionCreators)(r,e)})(Gn)),Ln=(n("9c6be9f00377ac8be3d8"),n("54f683fcda7806277002"),n("74431d47afb6248fcb69")),Fn=n("d559af73313ecb218818"),qn=n.n(Fn);var Mn;function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $n,Hn,Vn=($n={token:null,userName:null,isAuthenticated:!1,isAuthenticating:!1,statusText:null,isRegistering:!1,isRegistered:!1,registerStatusText:null,userProfile:{name:"",email:"",id:null}},Bn(Mn={},"LOGIN_USER_REQUEST",function(e){return Object.assign({},e,{isAuthenticating:!0,statusText:null})}),Bn(Mn,"LOGIN_USER_SUCCESS",function(e,t){return Object.assign({},e,{isAuthenticating:!1,isAuthenticated:!0,token:t.token,userName:qn()(t.token).email,userId:qn()(t.token).id,statusText:"You have been successfully logged in."})}),Bn(Mn,"SAVE_USER_INFO",function(e,t){return Object.assign({},e,{userProfile:t})}),Bn(Mn,"LOGIN_USER_FAILURE",function(e,t){return Object.assign({},e,{isAuthenticating:!1,isAuthenticated:!1,token:null,userName:null,statusText:"Authentication Error: ".concat(t.status," ").concat(t.statusText)})}),Bn(Mn,"LOGOUT_USER",function(e){return Object.assign({},e,{isAuthenticated:!1,token:null,userName:null,statusText:"You have been successfully logged out."})}),Bn(Mn,"REGISTER_USER_SUCCESS",function(e,t){return Object.assign({},e,{isAuthenticating:!1,isAuthenticated:!0,isRegistering:!1,token:t.token,userName:qn()(t.token).email,userId:qn()(t.token).id,registerStatusText:"You have been successfully logged in."})}),Bn(Mn,"REGISTER_USER_REQUEST",function(e){return Object.assign({},e,{isRegistering:!0})}),Bn(Mn,"REGISTER_USER_FAILURE",function(e,t){return Object.assign({},e,{isAuthenticated:!1,token:null,userName:null,registerStatusText:"Register Error: ".concat(t.status," ").concat(t.statusText)})}),Hn=Mn,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n,t=arguments.length>1?arguments[1]:void 0,n=Hn[t.type];return n?n(e,t.payload):e});function Wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{history:[]},t=arguments.length>1?arguments[1]:void 0,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Wn(e,t,n[t])})}return e}({},e);switch(t.type){case"NAVIGATE":return n.history.push(t.payload),n;default:return e}};function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{offers:{},requests:{},users:{}},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qn(e,t,n[t])})}return e}({},e);switch(n){case"SAVE_ENTRIES":return o.offers=r.offers,o.requests=r.requests,o.users=r.users,o;default:return e}},zn=Object(d.combineReducers)({auth:Vn,temporaryHistory:Jn,entries:Kn}),Yn=Object(u.connectRouter)(p)(zn),Xn=n("6c68d13fe9e3e77d8fc4"),Zn=n("bd183afcc37eabd79225"),er=n.n(Zn),tr="https://sis-marlboro.herokuapp.com",nr=function(e){return{headers:{Authorization:e}}};function rr(e,t,n){return er.a.post("".concat(tr,"/api/create_user"),{name:e,email:t,password:n})}function or(e){return er.a.post("".concat(tr,"/api/is_token_valid"),{token:e})}function ar(e,t){return er.a.post("".concat(tr,"/api/get_token"),{email:e,password:t})}function ir(e){return er.a.get("".concat(tr,"/api/entries"),nr(e))}function sr(e,t){return er.a.get("".concat(tr,"/api/users/").concat(e),nr(t))}function cr(e){return er.a.get("".concat(tr,"/api/users/active"),nr(e))}function ur(e,t){return er.a.post("".concat(tr,"/api/create_offer"),{data:e},nr(t))}function lr(e,t){return er.a.post("".concat(tr,"/api/create_request"),{data:e},nr(t))}function pr(e,t){return er.a.patch("".concat(tr,"/api/patch_join"),{data:e},nr(t))}function fr(e,t){return er.a.delete("".concat(tr,"/api/entries/offers/").concat(e),nr(t))}function dr(e,t){return er.a.delete("".concat(tr,"/api/entries/requests/").concat(e),nr(t))}var br=regeneratorRuntime.mark(Er),hr=regeneratorRuntime.mark(kr),yr=regeneratorRuntime.mark(Cr),mr=regeneratorRuntime.mark(Rr),gr=regeneratorRuntime.mark(xr),vr=regeneratorRuntime.mark(Ar),Sr=regeneratorRuntime.mark(Pr),Or=regeneratorRuntime.mark(Tr),wr=regeneratorRuntime.mark(Ur),_r=regeneratorRuntime.mark(Dr),jr=regeneratorRuntime.mark(Nr);function Er(e){var t,n,r,o,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.name,r=t.email,o=t.password,i.prev=1,i.next=4,Object(Xn.a)(rr,n,r,o);case 4:return a=i.sent,i.next=7,localStorage.setItem("token",a.data.token);case 7:return i.next=9,Object(Xn.b)({type:"REGISTER_USER_SUCCESS",payload:{token:a.data.token}});case 9:return i.t0=Xn.b,i.next=12,Object(Xn.a)(ue,"/home");case 12:return i.t1=i.sent,i.next=15,(0,i.t0)(i.t1);case 15:i.next=25;break;case 17:return i.prev=17,i.t2=i.catch(1),i.t3=Xn.b,i.next=22,Object(Xn.a)(P(i.t2));case 22:return i.t4=i.sent,i.next=25,(0,i.t3)(i.t4);case 25:case"end":return i.stop()}},br,this,[[1,17]])}function kr(e){var t,n,r,o,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.email,r=t.password,i.prev=1,i.next=4,Object(Xn.a)(ar,n,r);case 4:return o=i.sent,i.next=7,localStorage.setItem("token",o.data.token);case 7:return i.next=9,Object(Xn.b)({type:"LOGIN_USER_SUCCESS",payload:{token:o.data.token}});case 9:return i.next=11,localStorage.getItem("token");case 11:return a=i.sent,i.next=14,qn()(a).id;case 14:return id=i.sent,i.next=17,Object(Xn.b)({type:"SAGA_GET_USER",payload:id});case 17:return i.t0=Xn.b,i.next=20,Object(Xn.a)(ue,"/home");case 20:return i.t1=i.sent,i.next=23,(0,i.t0)(i.t1);case 23:i.next=31;break;case 25:return i.prev=25,i.t2=i.catch(1),i.next=29,console.log("Response error from login");case 29:return i.next=31,console.log(i.t2);case 31:case"end":return i.stop()}},hr,this,[[1,25]])}function Cr(e){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:return t=e.sent,e.next=5,Object(Xn.a)(ir,t);case 5:return n=e.sent,e.next=8,Object(Xn.a)(cr,t);case 8:return r=e.sent,e.next=11,Object(Xn.b)({type:"SAVE_ENTRIES",payload:{offers:n.data.offers,requests:n.data.requests,users:r.data}});case 11:case"end":return e.stop()}},yr,this)}function Rr(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,localStorage.getItem("token");case 2:return t=n.sent,n.next=5,Object(Xn.a)(ur,e.payload,t);case 5:return n.sent,n.next=8,Object(Xn.b)({type:"SAGA_GET_ENTRIES"});case 8:case"end":return n.stop()}},mr,this)}function xr(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,localStorage.getItem("token");case 2:return t=n.sent,n.next=5,Object(Xn.a)(fr,e.payload,t);case 5:return n.sent,n.next=8,Object(Xn.b)({type:"SAGA_GET_ENTRIES"});case 8:case"end":return n.stop()}},gr,this)}function Ar(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,localStorage.getItem("token");case 2:return t=n.sent,n.next=5,Object(Xn.a)(lr,e.payload,t);case 5:return n.sent,n.next=8,Object(Xn.b)({type:"SAGA_GET_ENTRIES"});case 8:case"end":return n.stop()}},vr,this)}function Pr(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,localStorage.getItem("token");case 2:return t=n.sent,n.next=5,Object(Xn.a)(dr,e.payload,t);case 5:return n.sent,n.next=8,Object(Xn.b)({type:"SAGA_GET_ENTRIES"});case 8:case"end":return n.stop()}},Sr,this)}function Tr(e){var t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,localStorage.getItem("token");case 2:return t=r.sent,r.next=5,Object(Xn.a)(pr,e.payload,t);case 5:return n=r.sent,console.log(n),r.next=9,Object(Xn.b)({type:"SAGA_GET_ENTRIES"});case 9:case"end":return r.stop()}},Or,this)}function Ur(e){var t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,localStorage.getItem("token");case 2:return t=r.sent,r.next=5,Object(Xn.a)(sr,e.payload,t);case 5:return n=r.sent,r.next=8,console.log("Response from getUser");case 8:return r.next=10,console.log(n);case 10:return r.next=12,Object(Xn.b)({type:"SAVE_USER_INFO",payload:n.data});case 12:case"end":return r.stop()}},wr,this)}function Dr(){var e,t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,localStorage.getItem("token");case 2:return e=n.sent,n.prev=3,n.next=6,Object(Xn.a)(or,e);case 6:if(!n.sent.data.token_is_valid){n.next=13;break}return t=qn()(e).id,n.next=11,Object(Xn.b)({type:"LOGIN_USER_SUCCESS",payload:{token:e}});case 11:return n.next=13,Object(Xn.b)({type:"SAGA_GET_USER",payload:t});case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(3),console.log(n.t0);case 18:case"end":return n.stop()}},_r,this,[[3,15]])}function Nr(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Xn.c)("SAGA_REGISTER",Er);case 2:return e.next=4,Object(Xn.c)("SAGA_LOGIN",kr);case 4:return e.next=6,Object(Xn.c)("SAGA_GET_ENTRIES",Cr);case 6:return e.next=8,Object(Xn.c)("SAGA_GET_USER",Ur);case 8:return e.next=10,Object(Xn.c)("SAGA_POST_OFFER",Rr);case 10:return e.next=12,Object(Xn.c)("SAGA_DELETE_OFFER",xr);case 12:return e.next=14,Object(Xn.c)("SAGA_POST_REQUEST",Ar);case 14:return e.next=16,Object(Xn.c)("SAGA_DELETE_REQUEST",Pr);case 16:return e.next=18,Object(Xn.c)("SAGA_PATCH_JOIN",Tr);case 18:return e.next=20,Object(Xn.c)("SAGA_CHECK_TOKEN",Dr);case 20:case"end":return e.stop()}},jr,this)}var Gr,Ir=Object(Ln.a)();function Lr(e,t,n,r){Gr||(Gr="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:Gr,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=[Ir,Object(u.routerMiddleware)(t)],r=[d.applyMiddleware.apply(void 0,n)],o=d.compose,a=Object(d.createStore)(Yn,e,o.apply(void 0,r));return a.runSaga=Ir.run(Nr),a.injectedSagas={},a}({},p),qr=document.getElementById("app");s.a.render(Lr(c.Provider,{store:Fr},void 0,Lr(u.ConnectedRouter,{history:p},void 0,Lr(In,{}))),qr)},"9c6be9f00377ac8be3d8":function(e,t,n){e.exports=n.p+"favicon.ico"}},[[0,1,2]]]);